<% layout('layouts/main') %>

<div
  class="container mx-auto p-4 sm:p-6 md:p-10 bg-gray-50 dark:bg-dark-bg transition-colors duration-300"
>
  <h1
    class="text-3xl sm:text-4xl font-bold text-center text-green-600 dark:text-green-400 mb-6 sm:mb-8 transition-colors duration-300"
  >
    Manage Clubs
  </h1>

  <!-- Create Club Form -->
  <div
    class="bg-white dark:bg-dark-surface shadow-lg rounded-lg p-4 sm:p-6 border border-gray-200 dark:border-dark-border transition-colors duration-300"
  >
    <h2
      class="text-xl sm:text-2xl font-semibold text-gray-800 dark:text-dark-text-primary mb-3 sm:mb-4 transition-colors duration-300"
    >
      Create New Club
    </h2>

    <form
      action="/admin/clubs/create"
      method="POST"
      class="space-y-3 sm:space-y-4"
    >
      <div>
        <label
          for="clubName"
          class="block text-gray-700 dark:text-dark-text-primary font-medium transition-colors duration-300"
          >Club Name:</label
        >
        <input
          type="text"
          id="clubName"
          name="name"
          class="w-full p-2 border border-gray-300 dark:border-dark-border bg-white dark:bg-dark-card text-gray-900 dark:text-dark-text-primary rounded-lg transition-colors duration-300"
          required
        />
      </div>

      <div>
        <label
          for="description"
          class="block text-gray-700 dark:text-dark-text-primary font-medium transition-colors duration-300"
          >Description:</label
        >
        <textarea
          id="description"
          name="description"
          rows="3"
          class="w-full p-2 border border-gray-300 dark:border-dark-border bg-white dark:bg-dark-card text-gray-900 dark:text-dark-text-primary rounded-lg transition-colors duration-300"
          required
        ></textarea>
      </div>

      <div>
        <label
          for="bannerUrl"
          class="block text-gray-700 dark:text-dark-text-primary font-medium transition-colors duration-300"
          >Banner URL:</label
        >
        <input
          type="text"
          id="bannerUrl"
          name="image"
          class="w-full p-2 border border-gray-300 dark:border-dark-border bg-white dark:bg-dark-card text-gray-900 dark:text-dark-text-primary rounded-lg transition-colors duration-300"
          required
        />
      </div>

      <button
        type="submit"
        class="bg-green-600 dark:bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-700 dark:hover:bg-green-600 w-full sm:w-auto transition-colors duration-300"
      >
        Create Club
      </button>
    </form>
  </div>
  <!-- List of Existing Clubs -->
  <div
    class="mt-6 sm:mt-8 bg-white dark:bg-dark-surface shadow-lg rounded-lg p-4 sm:p-6 overflow-x-auto border border-gray-200 dark:border-dark-border transition-colors duration-300"
  >
    <h2
      class="text-xl sm:text-2xl font-semibold text-gray-800 dark:text-dark-text-primary mb-3 sm:mb-4 transition-colors duration-300"
    >
      Existing Clubs
    </h2>

    <table
      class="w-full border-collapse border border-gray-300 dark:border-dark-border text-sm sm:text-base transition-colors duration-300"
    >
      <thead>
        <tr
          class="bg-gray-100 dark:bg-dark-card transition-colors duration-300"
        >
          <th
            class="border border-gray-300 dark:border-dark-border p-2 sm:p-3 text-gray-800 dark:text-dark-text-primary transition-colors duration-300"
          >
            Club Name
          </th>
          <th
            class="border border-gray-300 dark:border-dark-border p-2 sm:p-3 text-gray-800 dark:text-dark-text-primary transition-colors duration-300"
          >
            Description
          </th>
          <th
            class="border border-gray-300 dark:border-dark-border p-2 sm:p-3 text-gray-800 dark:text-dark-text-primary transition-colors duration-300"
          >
            Banner
          </th>
          <th
            class="border border-gray-300 dark:border-dark-border p-2 sm:p-3 text-gray-800 dark:text-dark-text-primary transition-colors duration-300"
          >
            Actions
          </th>
        </tr>
      </thead>
      <tbody>
        <% clubs.forEach(club => { %>
        <tr
          class="hover:bg-gray-50 dark:hover:bg-dark-card transition-colors duration-300"
        >
          <td
            class="border border-gray-300 dark:border-dark-border p-2 sm:p-3 text-gray-800 dark:text-dark-text-primary transition-colors duration-300"
          >
            <%= club.name %>
          </td>
          <td
            class="border border-gray-300 dark:border-dark-border p-2 sm:p-3 text-gray-600 dark:text-dark-text-secondary transition-colors duration-300"
          >
            <%= club.description %>
          </td>
          <td class="border border-gray-300 dark:border-dark-border p-2 sm:p-3">
            <img
              src="<%= club.image %>"
              alt="Club Banner"
              class="w-24 h-16 sm:w-32 sm:h-20 object-cover rounded-lg"
            />
          </td>
          <td
            class="border border-gray-300 dark:border-dark-border p-2 sm:p-3 flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-2"
          >
            <a
              href="/admin/clubs/edit/<%= club.id %>"
              class="text-yellow-500 dark:text-yellow-400 hover:underline transition-colors duration-300"
              >Edit</a
            >
            <form
              action="/admin/clubs/delete/<%= club.id %>"
              method="POST"
              class="inline"
            >
              <button
                type="submit"
                class="text-red-500 dark:text-red-400 hover:underline transition-colors duration-300"
              >
                Delete
              </button>
            </form>
          </td>
        </tr>
        <% }); %>
      </tbody>
    </table>
  </div>
</div>
