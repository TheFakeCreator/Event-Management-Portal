<% layout('layouts/main') %>

<div class="container mx-auto p-10">
  <h1 class="text-4xl font-bold text-center text-green-600 mb-8">
    Manage Clubs
  </h1>

  <!-- Create Club Form -->
  <div class="bg-white shadow-lg rounded-lg p-6">
    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Create New Club</h2>

    <form action="/admin/clubs/create" method="POST" class="space-y-4">
      <div>
        <label for="clubName" class="block text-gray-700 font-medium"
          >Club Name:</label
        >
        <input
          type="text"
          id="clubName"
          name="name"
          class="w-full p-2 border border-gray-300 rounded-lg"
          required
        />
      </div>

      <div>
        <label for="description" class="block text-gray-700 font-medium"
          >Description:</label
        >
        <textarea
          id="description"
          name="description"
          rows="3"
          class="w-full p-2 border border-gray-300 rounded-lg"
          required
        ></textarea>
      </div>

      <button
        type="submit"
        class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"
      >
        Create Club
      </button>
    </form>
  </div>

  <!-- List of Existing Clubs -->
  <div class="mt-8 bg-white shadow-lg rounded-lg p-6">
    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Existing Clubs</h2>

    <table class="w-full border-collapse border border-gray-300">
      <thead>
        <tr class="bg-gray-100">
          <th class="border p-3">Club Name</th>
          <th class="border p-3">Description</th>
          <th class="border p-3">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% clubs.forEach(club => { %>
        <tr>
          <td class="border p-3"><%= club.name %></td>
          <td class="border p-3"><%= club.description %></td>
          <td class="border p-3 flex justify-center space-x-2">
            <a
              href="/admin/clubs/edit/<%= club.id %>"
              class="text-yellow-500 hover:underline"
              >Edit</a
            >
            <form
              action="/admin/clubs/delete/<%= club.id %>"
              method="POST"
              class="inline"
            >
              <button type="submit" class="text-red-500 hover:underline">
                Delete
              </button>
            </form>
          </td>
        </tr>
        <% }); %>
      </tbody>
    </table>
  </div>
</div>
