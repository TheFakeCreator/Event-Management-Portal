<% layout("layouts/main") %> <% if (error_msg || success_msg) { %>
<div
  class="flashmessage-container fixed top-5 left-1/2 transform -translate-x-1/2 w-full max-w-md z-50"
>
  <% if (error_msg) { %>
  <div
    class="flashmessage bg-red-600 text-white p-4 rounded-lg shadow-lg flex items-center justify-between transition-opacity duration-500"
  >
    <span class="font-semibold"><%= error_msg %></span>
    <button
      class="ml-4 text-white text-2xl focus:outline-none"
      onclick="this.parentElement.style.display='none'"
    >
      &times;
    </button>
  </div>
  <% } %> <% if (success_msg) { %>
  <div
    class="flashmessage bg-green-600 text-white p-4 rounded-lg shadow-lg flex items-center justify-between transition-opacity duration-500"
  >
    <span class="font-semibold"><%= success_msg %></span>
    <button
      class="ml-4 text-white text-2xl focus:outline-none"
      onclick="this.parentElement.style.display='none'"
    >
      &times;
    </button>
  </div>
  <% } %>
</div>

<script>
  // Automatically remove flash messages after 3 seconds
  setTimeout(() => {
    const flashMessages = document.querySelectorAll(".flashmessage");
    flashMessages.forEach((flashMessage) => {
      flashMessage.classList.add("opacity-0");
      setTimeout(() => {
        flashMessage.style.display = "none";
      }, 500);
    });
  }, 3000);
</script>
<% } %>

<div class="container mx-auto p-10 flex justify-center">
  <div
    class="bg-white shadow-xl rounded-lg p-8 w-full max-w-2xl border border-gray-200"
  >
    <h1 class="text-4xl font-extrabold text-gray-900 mb-6">
      Welcome, <%= user.name %>!
    </h1>
    <div class="text-lg text-gray-700 space-y-2">
      <p>
        <strong>Username:</strong>
        <span class="text-gray-900 font-medium"><%= user.username %></span>
      </p>
      <p>
        <strong>Email:</strong>
        <span class="text-gray-900 font-medium"><%= user.email %></span>
      </p>
    </div>
    <div class="mt-8 flex space-x-4">
      <a
        href="/user/<%= user.username %>/edit"
        class="px-5 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-shadow shadow-md hover:shadow-lg"
      >
        Edit Profile
      </a>
      <a
        href="/user/<%= user.username %>/request-role"
        class="px-5 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-shadow shadow-md hover:shadow-lg"
      >
        Request Role
      </a>
    </div>
  </div>
</div>
